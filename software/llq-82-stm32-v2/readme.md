# 程序开发日志

>> 2021/10/14 日

- 其实很早之前就有了做 `LLQ-80` 的一个计划，处于一些经济、时间等方面的原因一直延期到现在，在此我们简要定义一些功能，我希望它可以怎样？然后我们去实现它。

    - 作为机械键盘，必不可少的是实现机械键盘的功能，考虑个人需求暂时只做有线机械键盘，方案确定为 `STM32F405RGT6`
    - 我希望它可以调节电脑音量，因此需要HID复合设备的支持
    - 我希望它可以进行密码管理，它需要添加指纹模块，为方便密码管理需要 `LCD` 显示屏
    - 为了更好的操作体验，我希望它可以添加两个编码器

- 话不多说，开始了机械键盘硬件的设计，为了避免翻车，我将键盘的PCB和控制板分离设计。

>> 2021/10/16 日

- 完成了机械键盘的原理图设计机械键盘控制板的原理图设计及其对应的PCB设计，发给嘉立创打板，其中机械键盘轴体板设计比较细，因此直接上了沉金板（但愿不会翻车），控制板则为4层板。
- 开始根据PCB进行结构设计

>> 2021/10/19-21 日

- 板子还没有到，按以前进度应该会在今天和明后天到的
- 着手结构方面设计，结构考虑成本使用了亚克力堆叠，直接使用AD画好图纸然后输出DXF，并使用`FUSION360`做一些细节上的优化
- V1版本的结构设计图纸正式完成，其中定位板也完成了，我想尝试一下捷配的铝基板用作定位板
- 出一个渲染图纸
- 将DXF图纸拉伸后生成step，然后组装并检验一下，亚克力的设计第一版本大概率会出点细节方面问题，先发加工吧，节省时间要紧
- 定位板图纸、外壳图纸发加工

>> 2021/10/22 日

- 电子元器件应该基本都到了，熬夜加班焊接一下吧，焊接后通电测试，电压正常

>> 2021/10/23 日

- 早晚要组装，为节省时间，直接先组装轴体板吧，这一块肯定不会翻车

>> 2021/10/24 日

- 午休时间简单写个 DEMO ，晚上回家检验一下
- 检验完成电路设计完全OK，接下来就主要是软件上的设计了


>> 2021/10/27-28 日

- 亚克力外壳也组装上吧，看样子基本上没啥问题
- 程序设计底层驱动实现
- 按键扫描算法实现
- USB驱动实现
- SPI LCD显示功能实现
- 开始第一次接触`LVGL`显示，移植一下

>> 2021/10/30-31 日

- 键盘程序应该到可以用了，把键帽装上试试，才发现顶层磨砂亚克力有点问题，有四个键帽装不上去，改吧
- 修改一下图纸，重新发加工
- `LVGL`的各种尝试

>> 2021/10/1-9 日

- 装上新的亚克力外壳，装上键帽，体验一番，下载线接出来
- 带到公司使用一周看看，工作时间敲敲，午休时间调调
- LCD 的SPI加入DMA方式，刷新明显加快了
- 按键扫描算法再次优化
- 指纹识别模块驱动编写，可以正常识别指纹，指纹录入功能过几天再写
- 密码管理功能，键盘可以输出到电脑，也可以输出到`LVGL`进行显示

- 差点忘了一件很重要的事，对于 `LLQ-82`来说，如果某些人不经常使用电脑，那么这键盘是否还有优势，在此这个无线键盘的功能看来还是有必要加上的，好在之前的想法轴体板和控制板分离设计，在此重新设计控制板加入PD充电和无线功能的设计，无线方案基于 ESP32S3,使用乐鑫的demo简单修改以下就行，临时的功能添加导致这款键盘的制作周期再次加长
- 修改后的pcb发加工
- 上个月双倍绩效，买一台电脑 `R9000P`电脑

>> 2021/10/13-14 日

- 身体有点不舒服，估计这几周太肝了，或者吃错了东西，后面注意
- R9000P到了，体验中，是海力士的显卡和intel的固态，联想官网的定制版，32G内存，1T固态，AMD的CPU、RTX3070应该是每一个男孩子的理想笔记本，既然选择了AMD显卡，AMD显卡兼容性可能确实不如INTEL


>> 2021/10/16-22 日

- 新设计的硬件翻车了，PD充电部分搞得比较随意，这次细心一点，又要推迟一周，预计22之后才能到吧
- 软件上继续优化，密码管理功能逐步完成
- 除了密码管理之外，新增一种设计，为自动输出字符串，在密码功能实现基础之上很容易实现,比如以下`GIT必杀`命令的选择输出，再也不用担心 `linux` 工具不支持设置命令字符串了

    - git remote update
    - git reset --hard
    - git clean -df
    - git pull 





